(function(t){function e(e){for(var n,c,s=e[0],i=e[1],a=e[2],f=0,d=[];f<s.length;f++)c=s[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);l&&l(e);while(d.length)d.shift()();return u.push.apply(u,a||[]),r()}function r(){for(var t,e=0;e<u.length;e++){for(var r=u[e],n=!0,s=1;s<r.length;s++){var i=r[s];0!==o[i]&&(n=!1)}n&&(u.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},o={app:0},u=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var a=0;a<s.length;a++)e(s[a]);var l=i;u.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"5c0b":function(t,e,r){"use strict";r("9c0c")},"9c0c":function(t,e,r){},ac87:function(t,e,r){"use strict";r("cc7f")},cc7f:function(t,e,r){},cd49:function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),n("Login"),this.$store.getters.currentUserLoginDetails?n("TodoList"):t._e()],1)},u=[],c=r("d4ec"),s=r("262e"),i=r("2caf"),a=r("9ab4"),l=r("1b40"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v("Create new todo")]),r("form",{on:{submit:function(e){return t.createTodo(e)}}},[r("label",{attrs:{for:"todoInput"}},[t._v("Title")]),r("input",{attrs:{id:"todoInput",type:"text"}}),r("button",[t._v("Create TODO")]),r("button",{on:{click:function(e){return t.$store.dispatch("addRandomTodo")}}},[t._v("I'm feeling lucky (fetch api)")])]),r("h2",[t._v("My todos")]),r("ol",t._l(t.todos(),(function(e){return r("li",{key:e.id},[t._v(" "+t._s(e.title)+" "),r("button",{on:{click:function(r){return t.completeTodo(e.id)}}},[t._v("Mark complete")])])})),0)])},d=[],p=r("bee2"),v=(r("d3b7"),r("25f0"),function(t){Object(s["a"])(r,t);var e=Object(i["a"])(r);function r(){var t;return Object(c["a"])(this,r),t=e.apply(this,arguments),t.todos=function(){return t.$store.getters.currentUserTodos},t}return Object(p["a"])(r,[{key:"completeTodo",value:function(t){this.$store.commit("completeTodo",t)}},{key:"createTodo",value:function(t){t.preventDefault();var e=t.target[0].value;t.target[0].value="";var r=Math.random().toString(36).substring(7);this.$store.commit("addTodo",{title:e,id:r})}}]),r}(l["b"]));v=Object(a["a"])([l["a"]],v);var b=v,m=b,g=(r("d7a8"),r("2877")),h=Object(g["a"])(m,f,d,!1,null,"2f354973",null),y=h.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.currentUser()?r("div",[r("p",[t._v("Welcome, "+t._s(t.currentUser().username))]),r("button",{on:{click:function(e){return t.logout()}}},[t._v("Logout")])]):t._e(),t.currentUser()?t._e():r("form",{on:{submit:function(e){return t.login(e)}}},[r("input",{attrs:{type:"text"}}),r("input",{attrs:{type:"password"}}),r("button",[t._v("Login")])])])},j=[],_=(r("7db0"),function(t){Object(s["a"])(r,t);var e=Object(i["a"])(r);function r(){var t;return Object(c["a"])(this,r),t=e.apply(this,arguments),t.currentUser=function(){return t.$store.getters.currentUserLoginDetails},t}return Object(p["a"])(r,[{key:"login",value:function(t){t.preventDefault();var e=this.$store.getters.getAllUsers,r=t.target[0].value,n=t.target[1].value;e.find((function(t){return t.username===r&&t.password===n}))||this.$store.commit("createUser",{username:r,password:n,todos:[]}),this.$store.commit("setUser",r)}},{key:"logout",value:function(){this.$store.commit("setUser",null)}}]),r}(l["b"]));_=Object(a["a"])([l["a"]],_);var w=_,U=w,T=(r("ac87"),Object(g["a"])(U,O,j,!1,null,"598277f6",null)),k=T.exports,x=function(t){Object(s["a"])(r,t);var e=Object(i["a"])(r);function r(){return Object(c["a"])(this,r),e.apply(this,arguments)}return r}(l["b"]);x=Object(a["a"])([Object(l["a"])({components:{TodoList:y,Login:k}})],x);var $=x,L=$,S=(r("5c0b"),Object(g["a"])(L,o,u,!1,null,null,null)),M=S.exports,P=r("1da1"),D=(r("96cf"),r("4de4"),r("2f62"));n["a"].use(D["a"]),n["a"].config.devtools=!0;var R=new D["a"].Store({state:{currentUser:null,users:[{username:"adrian",password:"adrian",todos:[{title:"Go for a run",id:"1"},{title:"Shop groceries",id:"2"}]}]},mutations:{setUser:function(t,e){t.currentUser=e},createUser:function(t,e){t.users.push(e)},addTodo:function(t,e){var r;return null===(r=t.users.find((function(e){return e.username===t.currentUser})))||void 0===r?void 0:r.todos.push(e)},completeTodo:function(t,e){var r;return null===(r=t.users.find((function(e){return e.username===t.currentUser})))||void 0===r?void 0:r.todos.filter((function(t){return t.id!==e}))}},actions:{addRandomTodo:function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/todos/1").then((function(t){return t.json()}));case 2:r=t.sent,e.commit("addTodo",{title:r.title,id:Math.random().toString(36).substring(7)});case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},modules:{},getters:{getAllUsers:function(t){return t.users},currentUserLoginDetails:function(t){var e=t.users.find((function(e){return e.username===t.currentUser}));return e?{username:e.username,password:e.password}:null},currentUserTodos:function(t){var e=t.users.find((function(e){return e.username===t.currentUser}));return e?e.todos:[]}}});n["a"].config.productionTip=!1,new n["a"]({store:R,render:function(t){return t(M)}}).$mount("#app")},cf05:function(t,e,r){t.exports=r.p+"img/logo.82b9c7a5.png"},d7a8:function(t,e,r){"use strict";r("e044")},e044:function(t,e,r){}});
//# sourceMappingURL=app.8f3585a2.js.map